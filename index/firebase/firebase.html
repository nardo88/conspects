<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FireBase</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-database.js"></script>
    <script defer src="./script.js"></script>
</head>
<body>
    <div class="container">
        <nav class="nav">
            <div class="nav__logo">
                <img src="./logo/logo.png" alt="logo">
            </div>
            <div class="nav__item">
                <a data-scroll = "#hosting" href="#!" class="nav__links">Hosting</a>
                <a data-scroll = "#realtime_database" href="#!" class="nav__links">Realtime Database</a>
                <a data-scroll = "#storage" href="#!" class="nav__links">Storage</a>
            </div>
        </nav>
        <div class="hosting">
            <div id="hosting" class="hosting__title">Hosting</div>
            <h2 class="step">Шаг 1. Создание проекта</h2>
            <p class="hosting__text">Для того что бы создать новый поект, заходм в консоль <b>FireBase</b> и жмем кнопку <b>Create a New Project</b>. Вводим имя нашего проекта и жмем продолжить. После этого откроется страница с настройками GOOGLE Аналитика. Ставим CheckBox "Отключить" и жмем кнопку "Создать проект"</p>
            <p class="hosting__text">После того как проект создастся, мы увидим боковую панель</p>
            <img src="./images/img1.jpg" alt="">
            <p class="hosting__text">В боковой панели выбираем элемент <b>Hosting</b> и справа в центральной части окна жмем кнопку <b>Начать</b>. Откроется инструкция с описанием того, что нужно сделать что бы создать репозиторий на локальном компьютере для работы с хостингом.</p>
            <h2 class="step">Шаг 2. Создание локального репозитория</h2>
            <p class="hosting__text">Создаем папку с произвольным именем, в ней создаем папку с именем <b>public</b>, затем в этой папке создаем еще одну и так же называем ее <b>public</b>. В итоге получится вот такая картина</p>
            <img src="./images/img2.jpg" alt="">
            <p class="hosting__text">После этого запускам <b>VS Code</b> из этой директории и открываем консоль. Первое что нам надо сделать, это установить FireBase. Для этого в консоли вводим команду:</p>
            <p class="hosting__text code">npm install -g firebase-tools</p>
            <p class="hosting__text">Теперь необходимо авторизоваться. Для этого в той же консоли вводим команду:</p>
            <p class="hosting__text code">firebase login</p>
            <p class="hosting__text">Откроется браузер со страницей выбора учетной записи Google, выбираем учетку и жмем кнопку "Разрешить". После получаем уведомление о том, что все прошло успешно.</p>
            <p class="hosting__text">Теперь необходимо проинициализировать проект, для этого в терминале вводим команду:</p>
            <p class="hosting__text code">firebase init</p>
            <p class="hosting__text">Откроется приветственное сообщение <b>FireBase</b> с вопросом "Are you ready to proceed?", вводим Y и жмем Enter. Далее откроется вот такой текст:</p>
            <img src="./images/img3.jpg" alt="">
            <p class="hosting__text">Здесь необходимо выбрать роли нашего проекта, пока нам нужен только ХОСТИНГ, поэтому клавишей "стрелкой" перемещаемся в низ до элемента <b>hosting</b> и для того что бы выбрать роль жмем "spase", после чего жмем ENTER</p>
            <p class="hosting__text">Следующим этапом нам необходимо указать, что это за проект.</p>
            <img src="./images/img4.jpg" alt="">
            <p class="hosting__text">Выбираем <b> Use an existing project</b> т.к. в <b>FireBase</b> мы уже создали проект. Жмем Enter и видим что система предложила выбрать проект который уже находится у нас в FireBase</p>
            <img src="./images/img5.jpg" alt="">
            <p class="hosting__text">Выбираем его и жмем Enter</p>
            <p class="hosting__text">Далее система спросит у нас хотим ли мы использовать нашу директорию в качестве public, жмем Enter. После этого система спросит нужно ли генерировать файл index.html? Жмем N и ENTER. После этого появится сообщение о том что инициализация выполнена успешно.</p>
            <h2 class="step">Шаг 3. Загрузка файлов на хостинг</h2>
            <p class="hosting__text">Посе того как проект был проинициализировал, в папке с проектом создаем все необходимы файлы после чего в консоле вводим команду</p>
            <p class="hosting__text code">firebase deploy</p>
            <p class="hosting__text">Каждый раз когда понадобится запушить данные на сайт вводим эту команду.</p>
            <h2 class="step">Шаг 4. Ссылка</h2>
            <p class="hosting__text">Для того что бы посмотреть какой теперь у нас адрес нашего хостинга, заходим в консоль проекта и так же жмем <b>Hosting</b>. В разделе мы увидим вот такую картину:</p>
            <img src="./images/img6.jpg" alt="">
            <p class="hosting__text">Иными словами fireBase нам предоставляет аж две ссылки на наш сайт. Так же мы можем привязать к нашему хостингу пользовательский домен, т.е. можно сделать красивую ссылку.</p>
        </div>
        <div class="realtime_database">
            <div id="realtime_database" class="hosting__title">Realtime Database</div>
            <h2 class="step">Шаг 1. Создание проекта</h2>
            <p class="hosting__text">Открываем консоль FireBase и жмем кнопку <b>Создать проект</b>, далее вводим имя проекта и жмем <b>Продолжить</b>. Откроется страница с настройкой аналитики от GOOGLE, отключаем ее и жмем <b>Создать проект</b></p>
            <h2 class="step">Шаг 2. Регистрация приложения в Firebase</h2>
            <p class="hosting__text">В центре страницы обзора проекта консоли Firebase щелкаем значок Интернета <img class="inline" src="./images/web.jpg" alt=""> , чтобы запустить рабочий процесс настройки.</p>
            <img src="./images/img7.jpg" alt="">
            <p class="hosting__text">Откроется страница создания веб приложения, вводим название нашего приложения и жмем <b>Зарегистрировать приложение</b>. После этого на этойже странице появится примерно такой контент:</p>
            <img src="./images/img8.jpg" alt="">
            <p class="hosting__text">Копируем весь этот код и вставляем в index.html файл своего проекта.</p>
            <p class="hosting__text">Помимо этого кода, необходимо скопировать SDN скрипта JS для работы с БД от FireBase, выглядит она вот так:</p>
            <xmp class="code">
                <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-database.js"></script>
            </xmp>
            <p class="hosting__text">Список всех CDN библиотек FireBase можно получить пройдя по <a class="to_out" target="_blank" href="https://firebase.google.com/docs/web/setup?authuser=0#expandable-8">ссылке</a></p>
            <p class="hosting__text">В итоге наш HTML файл выглядит пока вот так:</p>
            <img src="./images/img9.jpg" alt="">
            <h2 class="step">Шаг 3. Создание базы данных</h2>
            <p class="hosting__text">Возвращаемся в консоль FireBase и в боковой панели выбираем пункт <b>Realtime Database</b>, откроется раздел базы данных, на главной странице жмем кнопку <b>Создать базу данных</b></p>
            <img src="./images/img10.jpg" alt="">
            <p class="hosting__text">Откроется модально окно с выбором режима БД</p>
            <img src="./images/img11.jpg" alt="">
            <p class="hosting__text">Выбираем вариант с <b>тестовым режимом</b>, так как в этом случае не нужно будет настраивать аутентификацию и всем будет доступны функции записи и чтения данных из БД. Жмем кнопку <b>Включить</b>, после чего появится структура нашей БД</p>
            <img src="./images/img12.jpg" alt="">
            <h2 class="step">Шаг 4. Получение ссылки на базу данных</h2>
            <p class="hosting__text">В нашем html документе в разделе script необходимо добавить вот такую строчку</p>
            <xmp class="code">
                var database = firebase.database();
            </xmp>
            <p class="hosting__text">Здесь мы создаем переменную <b>database</b> куда помещаем нашу базу данных</p>
            <h2 class="step">Шаг 5. Добавление данных в нашу БД</h2>
            <p class="hosting__text">Для добавления данных в бд используется два метода:</p>
            <ol>
                <li><b>set()</b> - этот метод полностью перезаписывает ветку</li>
                <li><b>push()</b> - подобно методу <b>push</b> у массивов, добавляет в конец массива элемент</li>
            </ol>
            <p class="hosting__text">Входным параметром этих методов является передаваемый элемент</p>
            <h3 class="step_min">Метод set()</h3>
            <p class="hosting__text">Рассмотрим пример:</p>
            <p class="hosting__text">Допустим у нас есть пустая БД и нам в нее надо записать массив, элементами которого являются объекты. В этом случае метод <b>set</b> будет выглядеть вот так:</p>
            <img src="./images/img14.jpg" alt="">
            <p class="hosting__text">Здесь мы обращаемся к <b>firebase</b>, вызываем е него метод <b>database()</b>, для того что бы обратиться к БД. Далее мы вызываем метод <b>ref()</b>. Что делает этот метод? БД FireBase хранится в формате JSON, а это значит что структура данных представлена в виде дерева, которое может иметь вложенность (как указано в документации FireBase вложенность может достигать 32 уровней).Метод <b>ref()</b> позволяет нам указывать в какой рездел дерева мы помещаем наши данные. Если указать метод ref без входного параметра, то обращение будет к корневой ветви. Конкретно в нашем примере <img class="inline" src="./images/img18.jpg" alt=""> можно прочитать так: в корневом разделе есть подраздел <b>users</b>, у которого в свою очередь есть свой свой подраздел, название которого мы поместили для удобства в переменную <b>userID</b></p>
            <p class="hosting__text">Далее мы вызываем метод <b>set()</b> и на вход даем ему наш массив. Теперь после выполнения такого кода, если вернуться в консоль <b>FireBase</b> и посмотреть как теперь будет выглядеть наша структура БД, то мы увидим вот такую картину:</p>
            <img src="./images/img15.jpg" alt="">
            <h3 class="step_min">Метод push()</h3>
            <p class="hosting__text">По синтаксису метод push ничем не отличается от метода set/ Важно лишь понимать, что эти два метода делают принципиально разную работу. Вот как будет выглядеть метод push. если нам понадобится добавить к нашему массиву в БД еще одну запись:</p>
            <img src="./images/img19.jpg" alt="">
            <h2 class="step">Шаг 6. Получение данных из БД</h2>
            <p class="hosting__text">Рассмотрим код:</p>
            <img src="./images/img20.jpg" alt="">
            <p class="hosting__text">Первое что мы делаем это помещяем наш путь к ветви в переменную <b>ref</b>. Далее мы создаем переменную, куда помещаем пустой массив, в последствии в этой переменной мы будем хранить наш массив данных, который мы будем получать из БД firebase</p>
            <p class="hosting__text">Далее мы обращаемся к <b>ref</b> и вызываем у него слушатель события <b>on</b>. Что это за слушатель? Уникальность этого слушателя заключается в том, что слушатель теперь будет реагировать на любые изменения в БД. Причем не важно обновим мы страницу или нет, слушатель будет создавать снимок нашей БД каждый раз когда в БД будут происходить какие-либо изменения. Даже если эти изменения делаем не мы. К примеру: другой пользователь внес запись в нашу БД, после этого данные которые мы получили до этого так же будут моментально обновлены.</p>
            <p class="hosting__text">У метода <b>on</b> есть два входных параметра: Первое это на какие изменения ему реагировать (в нашем случае - на изменение значений value). Второй параметр - это callback функция, которая будет выполняться каждый раз при регистрации события. Входным параметром этой callback функции является объект - <b>snapshot</b> - снимок данных. У этогообъекта есть метод <b>val()</b> который возвращает снимок данных.</p>
            <p class="hosting__text">Таким образом мы обращаемся к нашему пустому массиву и с помощью метода <b>concat</b> дописываем в него данные которые получили из БД</p>
            <p class="hosting__text"><b>Пример моей функции</b></p>
            <section class="wrapper">
     
            </section>
            
            <div class="add">
                <input class="name_item input_value" type="text" placeholder="имя">
                <input class="age_item input_value" type="text" placeholder="возраст">
                <input class="job_item input_value" type="text" placeholder="профессия">
                <button class="add_data">ADD</button>
            </div>

            <p class="hosting__text">Код JavaScript</p>
            <img class="min_img" src="./code/code.png" alt="">
            <h3 class="step_min">Метод once()</h3>
            <p class="hosting__text">В некоторых случаях нам может потребоваться моментальный снимок наших данных без отслеживания изменений, например, при инициализации элемента пользовательского интерфейса, который вы не ожидаете изменить. Вы можете использовать метод once() чтобы упростить этот сценарий: он срабатывает один раз и больше не запускается.</p>
            <h2 class="step">Шаг 7. Редактирование данных</h2>
            <p class="hosting__text">Для того что бы отредактировать запись используется метод <b>update()</b>. Рассмотрим синтаксис на примере:</p>
            <img src="./images/img21.jpg" alt="">
            <p class="hosting__text">Здесь мы создали кнопку <b>change_last</b>, на которую вешаем слушатель события на клик. Далее мы помещаем в  переменную <b>ref</b> относительный путь до элемента который будем редактировать. Зачем было сделано именно так? Для удобства, ведь этот путь будет динамическим. Здесь мы помещаем весь массив данных в переменную и получаем длину нашего массива. Таким образом мы получаем индекс нашего элемента массива который будем редактировать.</p>
            <p class="hosting__text">Далее к <b>ref</b> мы применяем метод <b>update</b> и на вход даем ему новые значения</p>
            <h3 class="step_min">Добавление новой записи с помощью метода update()</h3>
            <p class="hosting__text">Рассмотрим код:</p>
            <img src="./images/img22.jpg" alt="">
            <p class="hosting__text">На этот раз в переменную <b>ref</b> мы помещаем путь с использованием всей длины массива (в переменную snap мы поместили значение которое вернет snapshot.val().length) Допустим у нас массив состоит из 4 элементов, т.к. индексация начинается с 0 то индекс последнего элемента будет 3, но длина массива будет равна - 4. А значит элемент с индексом 4 не существует. Если применить метод update к элементу которого нет, то метод его создает. Таким образом с помощью метода update можно добавлять новый элемент массива, указав ему несуществующий индекс.</p>
            <h2 class="step">Шаг 8. Удаление данных</h2>
            <p class="hosting__text">Для удаления данных используется метод <b>remove()</b>. Рассмотрим пример:у</p>
            <img src="./images/img23.jpg" alt="">
            <p class="hosting__text">Здесь точно так же как и с update, сначала надо указать таргет, над каким элементом будет проведена манипуляция (переменная ref) b к этому элементу применяем метод <b>remove()</b></p>
            <p class="hosting__text">Так же можно удалять запись с помощью метода <b>update</b> задав ему входной параметр <b>null</b></p>
            <h2 class="step">Шаг 9. Получение promise</h2>
            <p class="hosting__text">Чтобы узнать, когда наши данные переданы на сервер базы данных Firebase Realtime, мы можем использовать Promise . И set() и update() могут возвращать Promise. Пример:</p>
            <img src="./images/img24.jpg" alt="">
            <h2 class="step">Шаг 10. Запись данных в автономном режиме</h2>
            <p class="hosting__text">Если клиент потеряет сетевое соединение, ваше приложение продолжит работать правильно.</p>
            <p class="hosting__text">Каждый клиент, подключенный к базе данных Firebase, поддерживает собственную внутреннюю версию любых активных данных. Когда данные записываются, они сначала записываются в эту локальную версию. Затем клиент Firebase синхронизирует эти данные с удаленными серверами баз данных и с другими клиентами по принципу «максимальных усилий».</p>
            <h2 class="step">Шаг 11. Фильтрация данных</h2>
            <h3 class="step_min">Ограниченное количество результатов</h3>
            <p class="hosting__text">С помощью метода <b>limitToFirst()</b> мы можем задать сколько нам нужно отобразить элементов. Как это выглядит на практике?</p>
            <p class="hosting__text">Для начала рассмотрим одну функцию. Эта функция получает массив элементов и с помощью интерполяции распределяет данные БД по элементам верстки и заполняет родительсткий блок дочерними блоками</p>
            <img src="./images/img25.jpg" alt="">
            <p class="hosting__text">Здесь важно подметить, что метод <b>on</b> мы применяем к объекту <b>ref</b>. Этот объект мы определили ранее вот так:</p>
            <img src="./images/img26.jpg" alt="">
            <p class="hosting__text">Теперь мы создали кнопку и повесили на нее обработчик события на клик. Вот как он выглядит:</p>
            <img src="./images/img27.jpg" alt="">
            <p class="hosting__text">Создаем переменную, куда помещаем значение поля input (sum_items). Далее проверяем что бы число введенное в это поле было положительным. После этого перезаписываем переменную <b>ref</b> с использованием метода <b>limitToFirst()</b>, которому на вход даем значение введенного в поле input. После этого обновляем заполнение верстки вызывая функцию <b>fillTable</b></p>














            <p class="hosting__text"></p>
        </div>
        <div class="storage">
            <div id="storage" class="hosting__title">Storage</div>

        </div>



    </div>
</body>
</html>