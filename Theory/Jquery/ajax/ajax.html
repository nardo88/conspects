<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="own.css">
</head>
<body>
    <h1>AJAX</h1>
    <h2>Метод load()</h2>
    <p>Этот метод позволяет загрузить данные с сервера и разместить, возвращенный HTML код внутри необходимых элементов .Метод принимает три аргумента:</p>
    <ul>
        <li>В качестве первого аргумента принимает в себя URL адрес, ассинхронно загружает его содержимое и затем вставляет это содержимое в каждый из выбранных элементов, заменяя любое имеющее содержимое.</li>
        <li>В качестве второго аргумента можно передать строку и тогда будет выполнен POST запрос</li>
        <li>В качестве третьего аргумента можно передать callback функцию которая будет выполнена после того как содержимое URL будет загружено. Этой функции будет передано три аргумента:
            <ul>
                <li>содержимое загруженное с указанного URL</li>
                <li>Строка с кодом состояния</li>
                <li>Объект XMLHttpRequest</li>
            </ul>
        </li>
    </ul>
    <img src="prim1.jpg" alt="">
    <h2>Метод getJSON()</h2>
    <p>Метод загружает url адрес и разбирает его как текст в формате JSON Полученный объект передается callback функции в первом аргументе</p>
    <img src="prim2.jpg" alt="">
    <h2>Метод jQuery.ajax()</h2>
    <p>принимает всего один аргумент - объект с параметрами свойства которого определяют детали выполнения Ajax запроса</p>
    <img src="prim3.jpg" alt="">
    <h3>ПАРАМЕТРЫ</h3>
    <p><b>type</b> - метод запроса (GET, POST и т.д.)</p>
    <p><b>url</b> - URL адрес</p>
    <p><b>data</b> - данные для отправки POST запроса</p>
    <p><b>dataType</b> - тип ожидаемых данных в ответе (text, html, script, json, xml)</p>
    <p><b>timeout</b> - предельное время ожидания в милисекундах</p>
    <p><b>context</b> - определяют объект используемый в качестве контекста для значения ссылки this</p>
    <p><b>beforeSend</b> - определяет функцию, которая будет вызываться перед отправкой Ajax запроса. Если эта функция вернет false, выполнение AJAX запроса будет прервано.</p>
    <p><b>success</b> - определяет функцию которая булет выполнена после успешного выполнения AJAX запроса. В первом аргументе этой функции передаютра полученные даннык, во втором код состояния, в третьем объект XHR</p>
    <p><b>error</b> - определяет функцию, которая будет выполнена в случае неудачи запроса. В первом аргументе передается XHR объект, во втором код состояния.</p>
    <p><b>complete</b> - определяет функцию, которая будет вызываться по завершении AJAX запроса при любом раскладе.</p>
    <p><b>async</b> - если присвоить этому свойству значение false, библиотека jQuery будет блокировать работу сценария до получения ответа.</p>

    <script src="../jquery.js"></script>
    <script>
        
        const url = 'http://jsonplaceholder.typicode.com/users'
        jQuery.ajax({
            type: 'GET',
            url: url,
            data: null,
            dataType: 'JSON',
            success: calback
        })

        function calback(data, status, xhr) {
            console.log(data);
            console.log(status);
            console.log(xhr);
            
        }


    </script>
</body>
</html>